import React from "react";
import ReactDOM from "react-dom";
import { cleanup } from "react-testing-library";
import Body from "../Body";
import { singleLineString } from "../../../utils/Utils";
import gallery from "./fixtures/gallery.json";

afterEach(cleanup);

const expectedResult =
  '<div class="apm-gallery"><div class="apm-gallery-title">Photos</div><ul class="apm-gallery-slides"><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190204-jenny-lewis-performs-red-bull-and-hennessy.jpg" alt="Jenny Lewis performs &quot;Red Bull &amp; Hennessy&quot;" srcset="https://img.apmcdn.org/843e151737eea962616d19e05a15d1dfce0ac674/widescreen/8b1e64-20190204-jenny-lewis-performs-red-bull-and-hennessy.jpg 400w,https://img.apmcdn.org/843e151737eea962616d19e05a15d1dfce0ac674/widescreen/fba82a-20190204-jenny-lewis-performs-red-bull-and-hennessy.jpg 600w,https://img.apmcdn.org/843e151737eea962616d19e05a15d1dfce0ac674/widescreen/13aef2-20190204-jenny-lewis-performs-red-bull-and-hennessy.jpg 1000w,https://img.apmcdn.org/843e151737eea962616d19e05a15d1dfce0ac674/widescreen/8f0752-20190204-jenny-lewis-performs-red-bull-and-hennessy.jpg 1400w,https://img.apmcdn.org/843e151737eea962616d19e05a15d1dfce0ac674/widescreen/0ebcf4-20190204-jenny-lewis-performs-red-bull-and-hennessy.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190202-lfh-andrew-bird.jpg" alt="Andrew Bird" srcset="https://img.apmcdn.org/b1a8f618310917cff85a6c18363ff2de9834c556/widescreen/9e97a6-20190202-lfh-andrew-bird.jpg 400w,https://img.apmcdn.org/b1a8f618310917cff85a6c18363ff2de9834c556/widescreen/f66ec0-20190202-lfh-andrew-bird.jpg 600w,https://img.apmcdn.org/b1a8f618310917cff85a6c18363ff2de9834c556/widescreen/a432bf-20190202-lfh-andrew-bird.jpg 1000w,https://img.apmcdn.org/b1a8f618310917cff85a6c18363ff2de9834c556/widescreen/284867-20190202-lfh-andrew-bird.jpg 1400w,https://img.apmcdn.org/b1a8f618310917cff85a6c18363ff2de9834c556/widescreen/ca1a0a-20190202-lfh-andrew-bird.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190204-tom-papa-goes-out-in-l-a-for-out-in-america.jpg" alt="Tom Papa goes out in L.A. for Out. IN. America" srcset="https://img.apmcdn.org/f88a012bf830535a33479b02f29a4aeb4976dd1f/widescreen/5020ee-20190204-tom-papa-goes-out-in-l-a-for-out-in-america.jpg 400w,https://img.apmcdn.org/f88a012bf830535a33479b02f29a4aeb4976dd1f/widescreen/467505-20190204-tom-papa-goes-out-in-l-a-for-out-in-america.jpg 600w,https://img.apmcdn.org/f88a012bf830535a33479b02f29a4aeb4976dd1f/widescreen/1f8684-20190204-tom-papa-goes-out-in-l-a-for-out-in-america.jpg 1000w,https://img.apmcdn.org/f88a012bf830535a33479b02f29a4aeb4976dd1f/widescreen/c551b1-20190204-tom-papa-goes-out-in-l-a-for-out-in-america.jpg 1400w,https://img.apmcdn.org/f88a012bf830535a33479b02f29a4aeb4976dd1f/widescreen/94d877-20190204-tom-papa-goes-out-in-l-a-for-out-in-america.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190211-sara-watkins.jpg" alt="Sara Watkins" srcset="https://img.apmcdn.org/9e741e246777b167f495ee195ee0882f0968eb50/widescreen/9519d7-20190211-sara-watkins.jpg 400w,https://img.apmcdn.org/9e741e246777b167f495ee195ee0882f0968eb50/widescreen/c70a80-20190211-sara-watkins.jpg 600w,https://img.apmcdn.org/9e741e246777b167f495ee195ee0882f0968eb50/widescreen/c1a3f5-20190211-sara-watkins.jpg 1000w,https://img.apmcdn.org/9e741e246777b167f495ee195ee0882f0968eb50/widescreen/654a65-20190211-sara-watkins.jpg 1400w,https://img.apmcdn.org/9e741e246777b167f495ee195ee0882f0968eb50/widescreen/b559dd-20190211-sara-watkins.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190204-andrew-bird-performs-new-music-with-madison-cunningham-and-alan-hampton.jpg" alt="Andrew Bird performs new music with Madison Cunningham and Alan Hampton. " srcset="https://img.apmcdn.org/6e36cdbdbdcc157a3d2c833ca8f2f5c3e3e93f9c/widescreen/94a714-20190204-andrew-bird-performs-new-music-with-madison-cunningham-and-alan-hampton.jpg 400w,https://img.apmcdn.org/6e36cdbdbdcc157a3d2c833ca8f2f5c3e3e93f9c/widescreen/40fd0a-20190204-andrew-bird-performs-new-music-with-madison-cunningham-and-alan-hampton.jpg 600w,https://img.apmcdn.org/6e36cdbdbdcc157a3d2c833ca8f2f5c3e3e93f9c/widescreen/381d2b-20190204-andrew-bird-performs-new-music-with-madison-cunningham-and-alan-hampton.jpg 1000w,https://img.apmcdn.org/6e36cdbdbdcc157a3d2c833ca8f2f5c3e3e93f9c/widescreen/f35a7c-20190204-andrew-bird-performs-new-music-with-madison-cunningham-and-alan-hampton.jpg 1400w,https://img.apmcdn.org/6e36cdbdbdcc157a3d2c833ca8f2f5c3e3e93f9c/widescreen/ea4652-20190204-andrew-bird-performs-new-music-with-madison-cunningham-and-alan-hampton.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190211-holly-laurent.jpg" alt="Holly Laurent" srcset="https://img.apmcdn.org/147c1501989349e18ccf3f7dae57d5f2206471bd/widescreen/057435-20190211-holly-laurent.jpg 400w,https://img.apmcdn.org/147c1501989349e18ccf3f7dae57d5f2206471bd/widescreen/087004-20190211-holly-laurent.jpg 600w,https://img.apmcdn.org/147c1501989349e18ccf3f7dae57d5f2206471bd/widescreen/d1f187-20190211-holly-laurent.jpg 1000w,https://img.apmcdn.org/147c1501989349e18ccf3f7dae57d5f2206471bd/widescreen/34d653-20190211-holly-laurent.jpg 1400w,https://img.apmcdn.org/147c1501989349e18ccf3f7dae57d5f2206471bd/widescreen/f6698d-20190211-holly-laurent.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190204-jenny-lewis-performs-wasted-youth-from-her-new-album-on-the-line.jpg" alt="Jenny Lewis Performs &quot;Wasted Youth&quot; from her new album, On The Line. " srcset="https://img.apmcdn.org/b5849b3e965cb5f09a277172c183d4cc75c602bd/widescreen/731a90-20190204-jenny-lewis-performs-wasted-youth-from-her-new-album-on-the-line.jpg 400w,https://img.apmcdn.org/b5849b3e965cb5f09a277172c183d4cc75c602bd/widescreen/fd34eb-20190204-jenny-lewis-performs-wasted-youth-from-her-new-album-on-the-line.jpg 600w,https://img.apmcdn.org/b5849b3e965cb5f09a277172c183d4cc75c602bd/widescreen/e3d2f5-20190204-jenny-lewis-performs-wasted-youth-from-her-new-album-on-the-line.jpg 1000w,https://img.apmcdn.org/b5849b3e965cb5f09a277172c183d4cc75c602bd/widescreen/573c52-20190204-jenny-lewis-performs-wasted-youth-from-her-new-album-on-the-line.jpg 1400w,https://img.apmcdn.org/b5849b3e965cb5f09a277172c183d4cc75c602bd/widescreen/90c3db-20190204-jenny-lewis-performs-wasted-youth-from-her-new-album-on-the-line.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190211-gabe-witcher-rocks-an-electric-guitar-to-celebrate-dave-davies-birthday.jpg" alt="Gabe Witcher rocks an electric guitar to celebrate Dave Davies\' birthday." srcset="https://img.apmcdn.org/abe9a1110a79fa1a11a73d4ed08c1627e91a22a5/widescreen/3b6fdd-20190211-gabe-witcher-rocks-an-electric-guitar-to-celebrate-dave-davies-birthday.jpg 400w,https://img.apmcdn.org/abe9a1110a79fa1a11a73d4ed08c1627e91a22a5/widescreen/20f5dc-20190211-gabe-witcher-rocks-an-electric-guitar-to-celebrate-dave-davies-birthday.jpg 600w,https://img.apmcdn.org/abe9a1110a79fa1a11a73d4ed08c1627e91a22a5/widescreen/223dc2-20190211-gabe-witcher-rocks-an-electric-guitar-to-celebrate-dave-davies-birthday.jpg 1000w,https://img.apmcdn.org/abe9a1110a79fa1a11a73d4ed08c1627e91a22a5/widescreen/74ce12-20190211-gabe-witcher-rocks-an-electric-guitar-to-celebrate-dave-davies-birthday.jpg 1400w,https://img.apmcdn.org/abe9a1110a79fa1a11a73d4ed08c1627e91a22a5/widescreen/8e2c80-20190211-gabe-witcher-rocks-an-electric-guitar-to-celebrate-dave-davies-birthday.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190204-sarah-silverman.jpg" alt="Sarah Silverman " srcset="https://img.apmcdn.org/979e8e9c93894a998e5f480c37fb0ce307097bfd/widescreen/abedfe-20190204-sarah-silverman.jpg 400w,https://img.apmcdn.org/979e8e9c93894a998e5f480c37fb0ce307097bfd/widescreen/2171e6-20190204-sarah-silverman.jpg 600w,https://img.apmcdn.org/979e8e9c93894a998e5f480c37fb0ce307097bfd/widescreen/1a8870-20190204-sarah-silverman.jpg 1000w,https://img.apmcdn.org/979e8e9c93894a998e5f480c37fb0ce307097bfd/widescreen/dbaf03-20190204-sarah-silverman.jpg 1400w,https://img.apmcdn.org/979e8e9c93894a998e5f480c37fb0ce307097bfd/widescreen/f31013-20190204-sarah-silverman.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190204-laura-and-sarah-silverman-perform-laura-s-first-country-song.jpg" alt="Laura and Sarah Silverman perform Laura\'s first country song." srcset="https://img.apmcdn.org/c6e52dfa8e3b2ec0f1b6c4e9c8c162fec548feb9/widescreen/016941-20190204-laura-and-sarah-silverman-perform-laura-s-first-country-song.jpg 400w,https://img.apmcdn.org/c6e52dfa8e3b2ec0f1b6c4e9c8c162fec548feb9/widescreen/f4a4d5-20190204-laura-and-sarah-silverman-perform-laura-s-first-country-song.jpg 600w,https://img.apmcdn.org/c6e52dfa8e3b2ec0f1b6c4e9c8c162fec548feb9/widescreen/d6772d-20190204-laura-and-sarah-silverman-perform-laura-s-first-country-song.jpg 1000w,https://img.apmcdn.org/c6e52dfa8e3b2ec0f1b6c4e9c8c162fec548feb9/widescreen/530911-20190204-laura-and-sarah-silverman-perform-laura-s-first-country-song.jpg 1400w,https://img.apmcdn.org/c6e52dfa8e3b2ec0f1b6c4e9c8c162fec548feb9/widescreen/1bff6c-20190204-laura-and-sarah-silverman-perform-laura-s-first-country-song.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190204-nickel-creek-perform-scotch-and-chocolate.jpg" alt="Nickel Creek perform Scotch and Chocolate. " srcset="https://img.apmcdn.org/13c33407afacbb78bc2435ad4e228e4692efb7cc/widescreen/e8d28f-20190204-nickel-creek-perform-scotch-and-chocolate.jpg 400w,https://img.apmcdn.org/13c33407afacbb78bc2435ad4e228e4692efb7cc/widescreen/a6d787-20190204-nickel-creek-perform-scotch-and-chocolate.jpg 600w,https://img.apmcdn.org/13c33407afacbb78bc2435ad4e228e4692efb7cc/widescreen/8f3248-20190204-nickel-creek-perform-scotch-and-chocolate.jpg 1000w,https://img.apmcdn.org/13c33407afacbb78bc2435ad4e228e4692efb7cc/widescreen/7f9697-20190204-nickel-creek-perform-scotch-and-chocolate.jpg 1400w,https://img.apmcdn.org/13c33407afacbb78bc2435ad4e228e4692efb7cc/widescreen/3ed4a6-20190204-nickel-creek-perform-scotch-and-chocolate.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190211-mike-yard.jpg" alt="Mike Yard" srcset="https://img.apmcdn.org/26cfa8b39ed9018a39b72a0f07687a26a6d7502c/widescreen/6e438f-20190211-mike-yard.jpg 400w,https://img.apmcdn.org/26cfa8b39ed9018a39b72a0f07687a26a6d7502c/widescreen/363151-20190211-mike-yard.jpg 600w,https://img.apmcdn.org/26cfa8b39ed9018a39b72a0f07687a26a6d7502c/widescreen/30f5bf-20190211-mike-yard.jpg 1000w,https://img.apmcdn.org/26cfa8b39ed9018a39b72a0f07687a26a6d7502c/widescreen/5b531b-20190211-mike-yard.jpg 1400w,https://img.apmcdn.org/26cfa8b39ed9018a39b72a0f07687a26a6d7502c/widescreen/fbf905-20190211-mike-yard.jpg 2000w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190204-cirocco-dunlap.jpg" alt="Cirocco Dunlap" srcset="https://img.apmcdn.org/20bce58e38ff322f6ee7ca100ceb795541088a53/widescreen/188979-20190204-cirocco-dunlap.jpg 400w,https://img.apmcdn.org/20bce58e38ff322f6ee7ca100ceb795541088a53/widescreen/831c5c-20190204-cirocco-dunlap.jpg 600w,https://img.apmcdn.org/20bce58e38ff322f6ee7ca100ceb795541088a53/widescreen/4afeed-20190204-cirocco-dunlap.jpg 1000w,https://img.apmcdn.org/20bce58e38ff322f6ee7ca100ceb795541088a53/widescreen/8d3884-20190204-cirocco-dunlap.jpg 1400w,https://img.apmcdn.org/20bce58e38ff322f6ee7ca100ceb795541088a53/widescreen/8e7129-20190204-cirocco-dunlap.jpg 1987w"></figure></li><li class="apm-slide"><figure class="figure"><img class="" src="https://img.publicradio.org/images/20190204-nickel-creek-is-sara-watkins-chris-thile-and-sean-watkins.jpg" alt="Nickel Creek is Sara Watkins, Chris Thile and Sean Watkins. " srcset="https://img.apmcdn.org/5b8ba7aa290487d6d0e00594e5294fe054a7c66c/widescreen/fd593e-20190204-nickel-creek-is-sara-watkins-chris-thile-and-sean-watkins.jpg 400w,https://img.apmcdn.org/5b8ba7aa290487d6d0e00594e5294fe054a7c66c/widescreen/e0133d-20190204-nickel-creek-is-sara-watkins-chris-thile-and-sean-watkins.jpg 600w,https://img.apmcdn.org/5b8ba7aa290487d6d0e00594e5294fe054a7c66c/widescreen/a195dd-20190204-nickel-creek-is-sara-watkins-chris-thile-and-sean-watkins.jpg 1000w,https://img.apmcdn.org/5b8ba7aa290487d6d0e00594e5294fe054a7c66c/widescreen/b18490-20190204-nickel-creek-is-sara-watkins-chris-thile-and-sean-watkins.jpg 1400w,https://img.apmcdn.org/5b8ba7aa290487d6d0e00594e5294fe054a7c66c/widescreen/a22790-20190204-nickel-creek-is-sara-watkins-chris-thile-and-sean-watkins.jpg 2000w"></figure></li></ul></div>';

test("It renders a gallery", () => {
  const container = document.createElement("div");
  ReactDOM.render(<Body nodeData={gallery} />, container);
  expect(container.innerHTML).toEqual(singleLineString(expectedResult));
});
